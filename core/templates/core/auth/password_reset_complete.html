{% extends 'base/auth_base.html' %}

{% block title %}Senha Alterada - TransportadorPRO{% endblock %}

{% block video_source %}https://hejhbdkofhkdnzokjklr.supabase.co/storage/v1/object/public/logos//0228.mp4{% endblock %}

{% block video_text %}{% endblock %}

{% block slogan %}Acesso restaurado com sucesso{% endblock %}

{% block logo_url %}https://hejhbdkofhkdnzokjklr.supabase.co/storage/v1/object/public/logos//logo-transportadorpro-branco.svg{% endblock %}

{% block content %}
<div class="flex flex-col items-center gap-1 text-center mb-3">
    <h2 class="text-lg font-semibold text-success"><i class="bi bi-check2-circle me-2"></i>Senha Alterada</h2>
    <p class="text-xs text-muted">Sua senha foi alterada com sucesso!</p>
</div>

<div class="mb-3 p-3" style="background-color: #d1fae5; border-radius: 0.375rem; border: 1px solid #a7f3d0;">
    <div class="text-center">
        <i class="bi bi-shield-check text-success" style="font-size: 2rem;"></i>
        <p class="mb-2 text-sm" style="color: #047857;">Agora você pode acessar sua conta com a nova senha.</p>
        <p class="text-sm" style="color: #047857;">Redirecionando para a página de login em <span id="countdown" class="fw-bold">3</span> segundos...</p>
    </div>
</div>

<a href="{% url 'core:login' %}" class="btn btn-primary w-full btn-sm mt-3 mb-3">
    <i class="bi bi-box-arrow-in-right me-1"></i>Fazer Login Agora
</a>

<script>
    // Contagem regressiva e redirecionamento
    document.addEventListener('DOMContentLoaded', function() {
        let count = 3;
        const countdownElement = document.getElementById('countdown');
        
        const timer = setInterval(function() {
            count--;
            countdownElement.textContent = count;
            
            if (count <= 0) {
                clearInterval(timer);
                window.location.href = "{% url 'core:login' %}";
            }
        }, 1000);
    });
</script>
{% endblock %}